<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Admin Page</title>
  <link rel="stylesheet" href="/semantic/layout.css">
  <link rel="stylesheet" href="/semantic/semantic.min.css">
  <link rel="stylesheet" href="/css/home/mem.css">
  <link rel="stylesheet" href="/css/home/admin.css">
  <script src="/ckeditor/build/ckeditor.js"></script>
  <!-- <script src="https://cdn.ckeditor.com/ckeditor5/34.0.0/classic/ckeditor.js"></script> -->
  <!-- <script src="https://cdn.ckeditor.com/ckeditor5/34.0.0/classic/translations/ko.js"></script> -->
  <script src="/js/home/policy-upload.js" defer></script>
</head>
<body>
  <div id='rectanglel3' class='rectanglel3'></div>
  <div id='rectangleb3' class='rectangleb3'></div>
  <%- include('../layout.ejs') %>
<section>
  <div class="pagename">정책 등록</div>
  <div>
    <form action="/admin/policy/upload" method="post" enctype="multipart/form-data">
      <div class="ui form">
        <div class="inline fields">
          <label>정책 이름</label>
          <div class="four wide field">
            <input type="text" name="name" placeholder="정책 이름">
          </div>
      </div>
      <br>
      <div class="ui form">
        <div class="inline fields">
          <label>정책 설명</label>
          <div class="four wide field">
            <input type="text" name="description" placeholder="정책 설명">
          </div>
          <label>지원금</label>
          <div class="four wide field">
            <input type="text" name="fund" placeholder="지원금">
          </div>
        </div>
      </div>
      <br>

      <div class="ui form">
        <div class="inline fields">
          <label>정책 대상</label>
          <div class="four wide field">
              <select class="ui fluid dropdown" name="target" id="target">
                <%for(var i=0; i<target.length; i++){%>
                  <option value="<%=target[i].policy_target_code%>"><%=target[i].policy_target_name%></option>
                <%}%>
              </select>
          </div>
          <label>주관 기관</label>
          <div class="four wide field">
            <select class="ui fluid dropdown" name="policy_institution_code" id="policy_institution_code">
              <%for(var i=0; i<institution.length; i++){%>
                <option value="<%=institution[i].policy_institution_code%>"><%=institution[i].policy_institution_name%></option>
              <%}%>
            </select>
          </div>
        </div>
      </div>
      <br>
      <div class="ui form">
        <div class="inline fields">
          <label>접수 시작일</label>
          <div class="four wide field">
            <input type="date" name="application_start_date">
          </div>
          <label>접수 마감일</label>
          <div class="four wide field">
            <input type="date" name="application_end_date">
          </div>
        </div>
      </div>
      <br>
      <div class="ui form">
        <div class="inline fields">
          <label>정책 분야</label>
          <div class="four wide field">
            <select class="ui fluid dropdown" name="policy_field_code" id="policy_field_code">
              <%for(var i=0; i<field.length; i++){%>
                <option value="<%=field[i].policy_field_code%>"><%=field[i].policy_field_name%></option>
              <%}%>
            </select>
          </div>
          <label>정책 성격</label>
          <div class="four wide field">
            <select class="ui fluid dropdown" name="policy_character_code" id="policy_character_code">
              <%for(var i=0; i<character.length; i++){%>
                <option value="<%=character[i].policy_character_code%>"><%=character[i].policy_character_name%></option>
              <%}%>
            </select>
          </div>
        </div>
      </div>
      <br>
      <div class="ui form">
        <div class="inline fields">
          <label>정책 사진</label>
          <div class="nine wide field">
            <input type="file" name="imgFile" accept="image/*">
          </div>
        </div>

      </div>
      <div class="ui form">
          <textarea name="content" id="editor"></textarea>
          <script>
            // 3. CKEditor5를 생성할 textarea 지정
            ClassicEditor
                .create( document.querySelector( '#editor' ), {
                  language: "ko",
                  simpleUpload: {
                    uploadUrl: '/upload/image',
                    withCredentials: true,
                  }
                } )
                .catch( error => {
                    console.error( error );
                } );
            </script>
        </div>
        <!-- <div class="field">
          <label>정책 파일</label>
          <input type="file" name="file">
        </div> -->
        <div>
          <button class="ui button" type="submit">등록</button>
          <button class="ui button" type="button" onclick="location.href='/admin/policy/show'">취소</button>
          <!-- <button class="ui button" type="reset">취소</button> -->
        </div>
      </div>
    </form>
  </div>
</section>
</body>
</html>