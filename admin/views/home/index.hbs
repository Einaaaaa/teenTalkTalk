<script>
  const id = document.getElementById('id');
  const pw = document.getElementById('password');
  const loginBtn = document.getElementById('button');
  loginBtn.addEventListener('click', login);

  function login(){
    const req = {
      id: id.value,
      pw: pw.value
    };
    fetch("/login",{
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(req)
    })
    .then((res) => res.json())
    .then((res) => {
      if(res.success){//로그인 성공 시 회원 조회 화면으로
        location.href = "/mem";
      } else {
        alert(res.msg);
      }
    })
    .catch((err) => {
      console.error("로그인 중 에러 발생");
    });
  }
</script>


<h3>로그인</h3>
<form action="/" method="post">
    <div>
        <label for="id">아이디</label>
        <input type="text" name="id" id="id">
    </div>
    <div>
        <label for="password">비밀번호</label>
        <input type="password" name="password" id="password">
    </div>
    <!--button..?-->
    <button type="button" onclick="login()">로그인</button>
</form>